<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    {% if 'validation-' in mission['phase'] %}
      {% set status_tag = mission['phase'].split('-')[-1] %}
    {% else %}
      {% set status_tag = '' %}
    {% endif %}
    <title>{{ subject }}</title>
    <style data-premailer="ignore" type="text/css">
      body,table,td,a{-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}table,td{mso-table-lspace:0pt;mso-table-rspace:0pt}img{-ms-interpolation-mode:bicubic}.hidden{display:none !important;visibility:hidden !important}a[x-apple-data-detectors]{color:inherit !important;text-decoration:none !important;font-size:inherit !important;font-family:inherit !important;font-weight:inherit !important;line-height:inherit !important}div[style*='margin: 16px 0']{margin:0 !important}@media only screen and (max-width: 639px){body,#body{min-width:320px !important}table.wrapper{width:100% !important;min-width:320px !important}table.wrapper td.wrapper-cell{border-left:0 !important;border-right:0 !important;border-radius:0 !important;padding-left:10px !important;padding-right:10px !important}}
    </style>
    <style>body {
      margin: 0 !important; background-color: #fafafa; padding: 0; text-align: center; min-width: 640px; width: 100%; height: 100%; font-family: "Microsoft JhengHei;
      }
    </style>
  </head>
  {% set ares_url = 'http://{}'.format(ares_endpoint) %}
  <body style="text-align: center; min-width: 640px; width: 100%; height: 100%; font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; margin: 0; padding: 0;" bgcolor="#fafafa">
    <table border="0" cellpadding="0" cellspacing="0" id="body" style="text-align: center; min-width: 640px; width: 100%; margin: 0; padding: 0;" bgcolor="#fafafa">
      <tbody>
        <tr class="line">
          <td style="font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; height: 4px; font-size: 4px; line-height: 4px;" bgcolor="#AB91F8"></td>
        </tr>
        <tr class="header">
          <td style="font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 1.6; color: #5c5c5c; padding: 25px 0;">
            <img style="height: 50px;" src="cid:logo_inventec">
          </td>
        </tr>
        <tr>
          <td style="font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;">
            <table border="0" cellpadding="0" cellspacing="0" class="wrapper" style="width: 640px; border-collapse: separate; border-spacing: 0; margin: 0 auto;">
              <tbody>
                <tr>
                  <td class="wrapper-cell" style="font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; border-radius: 3px; overflow: hidden; padding: 18px 25px; border: 1px solid #ededed;" align="left" bgcolor="#ffffff">
                    <table border="0" cellpadding="0" cellspacing="0" class="content" style="width: 100%; border-collapse: separate; border-spacing: 0;">
                      <tbody>
                        <tr class="alert">
                          <td style="font-family: 'Helvetica Neue',Helvetica,Arial,sans-serif; border-radius: 3px; font-size: 14px; line-height: 1.3; overflow: hidden; color: #ffffff; padding: 10px;" align="left" bgcolor="#79bbff">
                            <table border="0" cellpadding="0" cellspacing="0" class="img" style="border-collapse: collapse; margin: 0 auto;">
                              <tbody>
                                <tr>
                                  <td style="font-family: 'Microsoft JhengHei','Helvetica Neue',Helvetica,Arial,sans-serif; color: #ffffff;" align="left" valign="middle">
                                    <span style="font-weight: 700;"></span>{{ mission['author'] }} ğŸ’¬ï¼š<br>
                                    <div style="margin-left: 20px;">
                                      <span style="font-weight: 600; font-size: 14px;">
                                      {% if mission['comment'] and mission['comment'] != 'None' %}
                                        {% autoescape false %}
                                          {{ mission['comment'] | replace('\n', '<br/>') }}
                                        {% endautoescape %}
                                      {% else %}
                                        è„šæœ¬ {{ type }} ä»»åŠ¡é€šçŸ¥ï¼Œç›¸å…³å¼€å‘äººå‘˜è¯·éšæ—¶ç•™æ„æœ€æ–°åŠ¨å‘ï¼
                                      {% endif %}
                                      </span>
                                    </div>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </td>
                        </tr>
                        <tr class="spacer">
                          <td style="font-family: 'Helvetica Neue',Helvetica,Arial,sans-serif; height: 18px; font-size: 18px; line-height: 18px;">
                            &nbsp;
                          </td>
                        </tr>
                        <tr class="section">
                          <td style="font-family: 'Microsoft JhengHei','Helvetica Neue',Helvetica,Arial,sans-serif; border-radius: 3px; overflow: hidden; padding: 0 15px; border: 1px solid #ededed;">
                            <table border="0" cellpadding="0" cellspacing="0" class="info" style="width: 100%;">
                              {% set data = {
                                "01_è„šæœ¬åç§°" : mission['script_name'],
                                "02_å½“å‰ç‰ˆæœ¬" : mission['script_version'],
                                "03_è®¿é—®è¿ç»“" : mission['link'],
                                "04_å¼€å‘è¿›åº¦" : mission['progress'],
                                "05_ä¼˜å…ˆçº§åˆ¥" : mission['priority'],
                                "06_å¼€å‘è®¡åˆ’" : mission['schedules'],
                                "07_éªŒè¯ç»“æœ" : mission['te_data']
                              } %}
                              {% set status_tags = {
                                "reject"      : { "text": "#f56c6c", "border": "#fde2e2", "bg": "#fef0f0" },
                                "fail"        : { "text": "#f56c6c", "border": "#fde2e2", "bg": "#fef0f0" },
                                "pass"        : { "text": "#67c23a", "border": "#e1f3d8", "bg": "#f0f9eb" },
                                "plan"        : { "text": "#e6a23c", "border": "#faecd8", "bg": "#fdf6ec" },
                                "development" : { "text": "#e6a23c", "border": "#faecd8", "bg": "#fdf6ec" },
                                "edit-readme" : { "text": "#e6a23c", "border": "#faecd8", "bg": "#fdf6ec" },
                                "release"     : { "text": "#409eff", "border": "#d9ecff", "bg": "#ecf5ff" },
                                "other"       : { "text": "#67c23a", "border": "#e1f3d8", "bg": "#f0f9eb" },
                                "unknown"     : { "text": "#909399", "border": "#e9e9eb", "bg": "#f4f4f5" }
                              } %}
                              {% set priority_tags = {
                                "P1": { "label": "ç´§æ€¥å¤„ç†", "color": "#f56c6c" },
                                "P2": { "label": "ä¼˜åŒ–éœ€æ±‚", "color": "#409eff" },
                                "P3": { "label": "é•¿æœŸå¼€å‘", "color": "#67c23a" }
                              } %}
                              <tbody>
                              {% for k, v in data.items() | sort(attribute='0', reverse=False) %}
                                {% set key = k.split('_')[1] %}
                                {% if loop.index == 1 %}
                                <tr>
                                  <td style="font-family: 'Microsoft JhengHei'; font-size: 15px; line-height: 1.4; color: #8c8c8c; font-weight: 300; margin: 0; padding: 14px 0;">
                                    <strong>{{ key }}</strong>
                                  </td>
                                  <td style="font-family: 'Microsoft JhengHei','Helvetica Neue',Helvetica,Arial,sans-serif; font-size: 15px; line-height: 1.4; color: #5C5C5C; font-weight: 400; width: 75%; margin: 0; padding: 14px 0 14px 5px;">
                                    {% if not mission['repository'] or mission['repository'] == 'None' %}
                                      {% set download_url = '#' %}
                                    {% else %}
                                      {% set archive_url = '{}/-/archive/master/{}-master.zip'.format(mission['repository'], v) %}
                                      {% set download_url = '{}api/v1/scripts/download/redirect?script_name={}&archive_url={}'.format(request.base_url, v, archive_url) %}
                                    {% endif %}
                                    {{ v }}&nbsp;<a style="text-decoration: none;" href="{{ download_url }}">â¬</a>
                                  </td>
                                </tr>
                                {% elif key == 'å½“å‰ç‰ˆæœ¬' %}
                                <tr>
                                  <td style="font-family: 'Microsoft JhengHei'; font-size: 15px; line-height: 1.4; color: #8c8c8c; font-weight: 300; border-top-width: 1px; border-top-color: #ededed; border-top-style: solid; margin: 0; padding: 14px 0;">
                                    <strong>{{ key }}</strong>
                                  </td>
                                  <td style="font-family: 'Microsoft JhengHei','Helvetica Neue',Helvetica,Arial,sans-serif; font-size: 15px; line-height: 1.4; color: #9370db; font-weight: 400; width: 75%; border-top-width: 1px; border-top-color: #ededed; border-top-style: solid; margin: 0; padding: 14px 0 14px 5px;">
                                  {%- if v != '' -%}
                                    {% if v.split('.')[-1] == '0' %}
                                      {% set version_tip = 'æ­£å¼ç‰ˆ' %}
                                      {% set version_icon = 'âœ”ï¸' %}
                                    <span class="muted" style="background-color: #409eff; border-radius: 6px; width: 5%; color: ghostwhite; padding: 4px; padding-inline: 4px; line-height: 1.2; overflow: hidden; text-decoration: none;">
                                    {% else %}
                                      {% set version_tip = 'æµ‹è¯•ç‰ˆ' %}
                                      {% set version_icon = 'ğŸ‘¨â€ğŸ’»' %}
                                    <span class="muted" style="background-color: #ecf5ff; border-radius: 6px; width: 5%; color: #409eff; padding: 4px; padding-inline: 4px; line-height: 1.2; overflow: hidden; text-decoration: none;">
                                    {% endif %}
                                      &nbsp;{{ v }}
                                    </span>&nbsp;
                                    <span class="muted" style="background-color: #f4f4f5; color: #909399; border-color: #e9e9eb; border-radius: 6px; width: 5%; padding: 4px; padding-inline: 4px; line-height: 1.3; overflow: hidden; text-decoration: none;">
                                      &nbsp;{{ version_tip }}&nbsp;
                                    </span>
                                    <span> {{ version_icon }}</span>
                                  {% else %}
                                    <span style="font-family: 'Microsoft JhengHei','Helvetica Neue',Helvetica,Arial,sans-serif; color: #909399;">æš‚æ— </span>
                                  {% endif %}
                                  </td>
                                </tr>
                                {% elif key == 'è®¿é—®è¿ç»“' %}
                                <tr>
                                  <td style="font-family: 'Microsoft JhengHei'; font-size: 15px; line-height: 1.4; color: #8c8c8c; font-weight: 300; border-top-width: 1px; border-top-color: #ededed; border-top-style: solid; margin: 0; padding: 14px 0;">
                                    <strong>{{ key }}</strong>
                                  </td>
                                  <td style="font-family: 'Microsoft JhengHei','Helvetica Neue',Helvetica,Arial,sans-serif; font-size: 15px; line-height: 1.4; color: #409eff; font-weight: 400; width: 75%; border-top-width: 1px; border-top-color: #ededed; border-top-style: solid; margin: 0; padding: 14px 0 14px 5px;">
                                    <a style="text-decoration: none; color: #409eff;" href="{{ v }}">{{ v }} â§‰</a>
                                  </td>
                                </tr>
                                {% elif key == 'å¼€å‘è¿›åº¦' %}
                                <tr>
                                  <td style="font-family: 'Microsoft JhengHei'; font-size: 15px; line-height: 1.4; color: #8c8c8c; font-weight: 300; border-top-width: 1px; border-top-color: #ededed; border-top-style: solid; margin: 0; padding: 14px 0;">
                                    <strong>{{ key }}</strong>
                                  </td>
                                  <td style="font-family: 'Microsoft JhengHei','Helvetica Neue',Helvetica,Arial,sans-serif; font-size: 15px; line-height: 1.4; color: #9370db; font-weight: 400; width: 75%; border-top-width: 1px; border-top-color: #ededed; border-top-style: solid; margin: 0; padding: 14px 0 14px 5px;">
                                  {% if mission['status'] in status_tags %}
                                    <span class="muted" style="background-color: {{ status_tags[mission['status']]['bg'] }}; color: {{ status_tags[mission['status']]['text'] }}; border-color: {{ status_tags[mission['status']]['border'] }}; border-radius: 6px; width: 5%; padding: 4px; padding-inline: 4px; line-height: 1.3; overflow: hidden; text-decoration: none;">
                                  {% else %}
                                    <span class="muted" style="background-color: {{ status_tags['other']['bg'] }}; color: {{ status_tags['other']['text'] }}; border-color: {{ status_tags['other']['border'] }}; border-radius: 6px; width: 5%; padding: 4px; padding-inline: 4px; line-height: 1.3; overflow: hidden; text-decoration: none;">
                                  {% endif %}
                                      &nbsp;{{ mission['status'] | capitalize }}
                                    </span>
                                  {%- if status_tag != '' -%}
                                    &nbsp;
                                    <span class="muted" style="background-color: {{ status_tags[status_tag]['bg'] }}; color: {{ status_tags[status_tag]['text'] }}; border-color: {{ status_tags[status_tag]['border'] }}; border-radius: 6px; width: 5%; padding: 4px; padding-inline: 4px; line-height: 1.3; overflow: hidden; text-decoration: none;">
                                      &nbsp;{{ status_tag | capitalize }}
                                    </span>
                                  {% endif %}
                                    <span style="color: #5C5C5C;">&nbsp;{{ v }}%</span>
                                  </td>
                                </tr>
                                {% elif key == 'ä¼˜å…ˆçº§åˆ¥' %}
                                <tr>
                                  <td style="font-family: 'Microsoft JhengHei'; font-size: 15px; line-height: 1.4; color: #8c8c8c; font-weight: 300; border-top-width: 1px; border-top-color: #ededed; border-top-style: solid; margin: 0; padding: 14px 0;">
                                    <strong>{{ key }}</strong>
                                  </td>
                                  <td style="color: {{ priority_tags[v]['color'] }}; font-family: 'Microsoft JhengHei','Helvetica Neue',Helvetica,Arial,sans-serif; font-size: 15px; line-height: 1.4; font-weight: 400; width: 75%; border-top-width: 1px; border-top-color: #ededed; border-top-style: solid; margin: 0; padding: 14px 0 14px 5px;">
                                    {{ v }}&nbsp;<span style="color: #909399;">({{ priority_tags[v]['label'] }})</span>
                                  </td>
                                </tr>
                                {% elif key == 'å¼€å‘è®¡åˆ’' %}
                                <tr>
                                  <td style="font-family: 'Microsoft JhengHei'; font-size: 15px; line-height: 1.4; color: #8c8c8c; font-weight: 300; border-top-width: 1px; border-top-color: #ededed; border-top-style: solid; margin: 0; padding: 14px 0;">
                                    <strong>{{ key }}</strong>
                                  </td>
                                  <td style="font-family: 'Microsoft JhengHei','Helvetica Neue',Helvetica,Arial,sans-serif; font-size: 15px; line-height: 1.4; color: #5C5C5C; font-weight: 400; width: 75%; border-top-width: 1px; border-top-color: #ededed; border-top-style: solid; margin: 0; padding: 14px 0 14px 5px;">
                                    <table border="0" cellpadding="0" cellspacing="0" class="info" style="width: 100%;">
                                      {% set headers = {
                                        "01_å¼€å‘é˜¶æ®µ" : { "width": 50 },
                                        "02_æˆªæ­¢æ—¥æœŸ" : { "width": 50 }
                                      } %}
                                      {% set schedules = {
                                        1 : { "value": "expected", "label": "æœŸæœ›å®Œæˆ", "color": "#67c23a", "border": "#e1f3d8", "bg": "#f0f9eb" },
                                        2 : { "value": "development", "label": "éªŒè¯å‘å¸ƒ", "color": "#67c23a", "border": "#e1f3d8", "bg": "#f0f9eb" },
                                        3 : { "value": "validation", "label": "éªŒè¯æˆªæ­¢", "color": "#67c23a", "border": "#e1f3d8", "bg": "#f0f9eb" },
                                        4 : { "value": "release", "label": "æ­£å¼å‘å¸ƒ", "color": "#409eff", "border": "#d9ecff", "bg": "#ecf5ff" }
                                      } %}
                                      <thead>
                                        <tr>
                                        {% for head, val in headers.items() | sort(attribute='0', reverse=False) %}
                                          <td width="{{ val['width'] }}%" style="font-family: 'Microsoft JhengHei'; font-size: 15px; line-height: 1.2; color: #8c8c8c; font-weight: 300; border-left-style: solid; border-left-width: 1px; border-left-color: #ededed; margin: 0; padding: 8px 0;">
                                            <strong>{{ head.split('_')[1] }}</strong>
                                          </td>
                                        {% endfor %}
                                        </tr>
                                      </thead>
                                      <tbody>
                                      {% for i, raw in schedules.items() | sort(attribute='0', reverse=False) %}
                                        <tr>
                                          {% set styles = "font-family: 'Microsoft JhengHei','Helvetica Neue',Helvetica,Arial,sans-serif; font-size: 12px; line-height: 1.4; color: #5C5C5C; font-weight: 400; border-top: 1px solid #ededed; border-left-style: solid; border-left-width: 1px; border-left-color: #ededed; margin: 0; padding: 14px 0 14px 5px;" %}
                                          <td width="50%" align="left" style="{{ styles }}">
                                            <span class="muted" style="background-color: {{ raw['bg'] }}; color: {{ raw['color'] }}; border-color: {{ raw['border'] }}; border-radius: 6px; width: 5%; padding: 4px; padding-inline: 4px; line-height: 1.3; overflow: hidden; text-decoration: none;">
                                              &nbsp;{{ raw['label'] }}&nbsp;
                                            </span>&nbsp;
                                            <span class="muted" style="background-color: #f4f4f5; color: #909399; border-color: #e9e9eb; border-radius: 6px; width: 5%; padding: 4px; padding-inline: 4px; line-height: 1.3; overflow: hidden; text-decoration: none;">
                                              &nbsp;{{ raw['value'] | capitalize }}&nbsp;
                                            </span>
                                          </td>
                                          <td width="50%" style="{{ styles }}">
                                          {% if raw['value'] in mission['schedules'] %}
                                            {%- if mission['schedules'][raw['value']] != '' -%}
                                            <span style="color: #9370db;">ğŸ“… {{ mission['schedules'][raw['value']] }}</span>
                                            {% else %}
                                            <span style="color: #909399;">ğŸ“… å¾…å®š</span>
                                            {% endif %}
                                          {% else %}
                                            æš‚æ— 
                                          {% endif %}
                                          </td>
                                        </tr>
                                      {% endfor %}
                                      </tbody>
                                    </table>
                                  </td>
                                </tr>
                                {% elif key == 'éªŒè¯ç»“æœ' %}
                                  {% if 'te_data' in mission %}
                                <tr>
                                    {% if mission['te_data'].keys() | length > 0 %}
                                  <td style="font-family: 'Microsoft JhengHei'; font-size: 15px; line-height: 1.4; color: #8c8c8c; font-weight: 300; border-top-width: 1px; border-top-color: #ededed; border-top-style: solid; margin: 0; padding: 14px 0;">
                                    <strong>{{ key }}</strong>
                                  </td>
                                  <td style="font-family: 'Microsoft JhengHei','Helvetica Neue',Helvetica,Arial,sans-serif; font-size: 15px; line-height: 1.4; color: #5C5C5C; font-weight: 400; width: 75%; border-top-width: 1px; border-top-color: #ededed; border-top-style: solid; margin: 0; padding: 14px 0 14px 5px;">
                                    <table border="0" cellpadding="0" cellspacing="0" class="info" style="width: 100%;">
                                      {% set headers = {
                                        "01_äººå‘˜" : { "width": 33 },
                                        "02_ç»“æœ" : { "width": 33 },
                                        "03_æŠ¥å‘Š" : { "width": 33 }
                                      } %}
                                      {% set result_tags = {
                                        "pass"    : { "icon": "âœ”ï¸", "label": "Pass", "color": "#67c23a", "border": "#e1f3d8", "bg": "#f0f9eb" },
                                        "fail"    : { "icon": "âŒ", "label": "Fail", "color": "#f56c6c", "border": "#fde2e2", "bg": "#fef0f0" },
                                        "unknown" : { "icon": "â“", "label": "å¾…æµ‹", "color": "#909399", "border": "#e9e9eb", "bg": "#f4f4f5" }
                                      } %}
                                      <thead>
                                        <tr>
                                        {% for head, val in headers.items() | sort(attribute='0', reverse=False) %}
                                          <td width="{{ val['width'] }}%" style="font-family: 'Microsoft JhengHei'; font-size: 15px; line-height: 1.2; color: #8c8c8c; font-weight: 300; border-left-style: solid; border-left-width: 1px; border-left-color: #ededed; margin: 0; padding: 8px 0;">
                                            <strong>{{ head.split('_')[1] }}</strong>
                                          </td>
                                        {% endfor %}
                                        </tr>
                                      </thead>
                                      <tbody>
                                      {% for e in v.values() %}
                                        <tr>
                                          {% set styles = "font-family: 'Microsoft JhengHei','Helvetica Neue',Helvetica,Arial,sans-serif; font-size: 12px; line-height: 1.4; color: #5C5C5C; font-weight: 400; border-top: 1px solid #ededed; border-left-style: solid; border-left-width: 1px; border-left-color: #ededed; margin: 0; padding: 14px 0 14px 5px;" %}
                                          <td width="33%" style="{{ styles }}">
                                            <span style="color: #909399;">{{ e['name'] }}</span>
                                          </td>
                                          <td width="33%" style="{{ styles }}">
                                          {% if e['result'].lower() in result_tags %}
                                            {% set result_key = e['result'].lower() %}
                                          {% else %}
                                            {% set result_key = 'unknown' %}
                                          {% endif %}
                                            <span class="muted" style="background-color: {{ result_tags[result_key]['bg'] }}; color: {{ result_tags[result_key]['color'] }}; border-color: {{ result_tags[result_key]['border'] }}; border-radius: 6px; width: 5%; padding: 4px; padding-inline: 4px; line-height: 1.3; overflow: hidden; text-decoration: none;">
                                              &nbsp;{{ result_tags[result_key]['icon'] }}&nbsp;{{ result_tags[result_key]['label'] }}&nbsp;
                                            </span>
                                          </td>
                                          <td width="33%" style="{{ styles }}">
                                          {%- if e['reports'] != '' -%}
                                            {% set report_name = e['reports'].split('/')[-1] %}
                                            {% if report_name | length > 15 %}
                                            <a style="text-decoration: none; color: #409eff;" href="{{ e['reports'] }}">ğŸ“ {{ report_name[:15] }}â€¦</a>
                                            {% else %}
                                            <a style="text-decoration: none; color: #409eff;" href="{{ e['reports'] }}">ğŸ“ {{ report_name }}</a>
                                            {% endif %}
                                          {% else %}
                                            <span style="color: #909399;">ğŸ“ å¾…ä¸Šä¼ </span>
                                          {% endif %}
                                          </td>
                                        </tr>
                                      {% endfor %}
                                      </tbody>
                                    </table>
                                  </td>
                                    {% else %}
                                  <td style="font-family: 'Microsoft JhengHei'; font-size: 15px; line-height: 1.4; color: #8c8c8c; font-weight: 300; border-top-width: 1px; border-top-color: #ededed; border-top-style: solid; margin: 0; padding: 14px 0;">
                                    <strong>éªŒè¯äººå‘˜</strong>
                                  </td>
                                  <td style="word-break: break-all; font-family: 'Microsoft JhengHei','Helvetica Neue',Helvetica,Arial,sans-serif; font-size: 15px; line-height: 1.4; color: #5C5C5C; font-weight: 400; width: 75%; border-top-width: 1px; border-top-color: #ededed; border-top-style: solid; margin: 0; padding: 14px 0 14px 5px;">
                                    <span class="muted" style="font-family: 'Microsoft JhengHei','Helvetica Neue',Helvetica,Arial,sans-serif; color: #909399; text-decoration: none;">
                                      {%- if mission['te_name'] != '' -%}
                                        {{ mission['te_name'] | replace(';', 'ã€') }}
                                      {% else %}
                                        æš‚æ— 
                                      {% endif %}
                                    </span>
                                  </td>
                                    {% endif %}
                                </tr>
                                  {% endif %}
                                {% else %}
                                <tr>
                                  <td style="font-family: 'Microsoft JhengHei'; font-size: 15px; line-height: 1.4; color: #8c8c8c; font-weight: 300; border-top-width: 1px; border-top-color: #ededed; border-top-style: solid; margin: 0; padding: 14px 0;">
                                    <strong>{{ key }}</strong>
                                  </td>
                                  <td style="font-family: 'Microsoft JhengHei','Helvetica Neue',Helvetica,Arial,sans-serif; font-size: 15px; line-height: 1.4; color: #5C5C5C; font-weight: 400; width: 75%; border-top-width: 1px; border-top-color: #ededed; border-top-style: solid; margin: 0; padding: 14px 0 14px 5px;">
                                    <span class="muted" style="color: #5C5C5C; text-decoration: none;">
                                    {{ v }}
                                    </span>
                                  </td>
                                </tr>
                                {% endif %}
                              {% endfor %}
                              </tbody>
                            </table>
                          </td>
                        </tr>
                        <tr class="section">
                          <td style="font-family: 'Microsoft JhengHei','Helvetica Neue',Helvetica,Arial,sans-serif; border-radius: 3px; overflow: hidden; padding: 0 15px; border: 1px solid #ededed;">
                            <table border="0" cellpadding="0" cellspacing="0" class="info" style="width: 100%;">
                              {% set associates = {
                                "01_æŒ‡æ´¾ç»™" : mission['current'],
                                "02_ä¸Šä¸€å…³" : mission['author'],
                                "03_æå•äºº" : mission['requester'],
                                "04_è´Ÿè´£äºº" : mission['owner'],
                                "05_å¼€å‘äºº" : mission['developer'],
                                "06_LTE"    : mission['lte_name']
                              } %}
                              <tbody>
                              {% for t, n in associates.items() | sort(attribute='0', reverse=False) %}
                                {% if (loop.index % 2) == 1 %}
                                <tr>
                                {% endif %}
                                  {% if loop.index == 1 %}
                                  <td style="font-family: 'Microsoft JhengHei'; font-size: 15px; line-height: 1.4; color: #8c8c8c; font-weight: 300; width: 25%; margin: 0; padding: 14px 0;">
                                  {% else %}
                                  <td style="font-family: 'Microsoft JhengHei'; font-size: 15px; line-height: 1.4; color: #8c8c8c; font-weight: 300; width: 25%; border-top-width: 1px; border-top-color: #ededed; border-top-style: solid; margin: 0; padding: 14px 0;">
                                  {% endif %}
                                    <strong>{{ t.split('_')[1] }}</strong>
                                  </td>
                                  {% if loop.index == 1 %}
                                  <td style="font-family: 'Microsoft JhengHei','Helvetica Neue',Helvetica,Arial,sans-serif; font-size: 15px; line-height: 1.4; color: #5C5C5C; font-weight: 400; width: 25%; margin: 0; padding: 14px 0 14px 5px;">
                                  {% else %}
                                  <td style="font-family: 'Microsoft JhengHei','Helvetica Neue',Helvetica,Arial,sans-serif; font-size: 15px; line-height: 1.4; color: #5C5C5C; font-weight: 400; width: 25%; border-top-width: 1px; border-top-color: #ededed; border-top-style: solid; margin: 0; padding: 14px 0 14px 5px;">
                                  {% endif %}
                                    <span class="muted" style="font-family: 'Microsoft JhengHei','Helvetica Neue',Helvetica,Arial,sans-serif; color: #909399; text-decoration: none;">
                                  {% if not n or n | replace(' ', '') == '' %}
                                    æš‚æ— 
                                  {% else %}
                                    {{ n | replace(';', 'ã€') }}
                                  {% endif %}
                                    </span>
                                  </td>
                                {% if (loop.index % 2) == 0 %}
                                </tr>
                                {% endif %}
                              {% endfor %}
                              </tbody>
                            </table>
                          </td>
                        </tr>
                        <tr class="section">
                          <td style="font-family: 'Microsoft JhengHei','Helvetica Neue',Helvetica,Arial,sans-serif; border-radius: 3px; overflow: hidden; padding: 0 15px; border: 1px solid #ededed;">
                            <table border="0" cellpadding="0" cellspacing="0" class="info" style="width: 100%;">
                              {% set desc = {
                                "01_ä½¿ç”¨æ—¶æœº" : mission['when_to_use'],
                                "02_éœ€æ±‚ç®€è¿°" : mission['description']
                              } %}
                              <tbody>
                              {% for k, v in desc.items() | sort(attribute='0', reverse=False) %}
                                {% set key = k.split('_')[1] %}
                                {% if loop.index == 1 %}
                                  {% set styles_head = "font-family: 'Microsoft JhengHei'; font-size: 15px; line-height: 1.4; color: #8c8c8c; font-weight: 300; margin: 0; padding: 14px 0;" %}
                                  {% set styles_text = "word-break: break-all; font-family: 'Microsoft JhengHei','Helvetica Neue',Helvetica,Arial,sans-serif; font-size: 14px; line-height: 1.4; color: #909399; font-weight: 300; margin: 0; padding: 14px 0 14px 5px;" %}
                                {% else %}
                                  {% set styles_head = "font-family: 'Microsoft JhengHei'; font-size: 15px; line-height: 1.4; color: #8c8c8c; font-weight: 300; border-top-width: 1px; border-top-color: #ededed; border-top-style: solid; margin: 0; padding: 14px 0;" %}
                                  {% set styles_text = "word-break: break-all; font-family: 'Microsoft JhengHei','Helvetica Neue',Helvetica,Arial,sans-serif; font-size: 14px; line-height: 1.4; color: #909399; font-weight: 300; border-top-width: 1px; border-top-color: #ededed; border-top-style: solid; margin: 0; padding: 14px 0 14px 5px;" %}
                                {% endif %}
                                {% if key in ['ä½¿ç”¨æ—¶æœº', 'éœ€æ±‚ç®€è¿°'] %}
                                <tr>
                                  <td style="{{ styles_head }}">
                                    <strong>{{ key }}</strong>
                                  </td>
                                  <td align="left" width="75%" style="{{ styles_text }}">
                                  {% autoescape false %}
                                    {{ v | replace('\n', '<br/>') }}
                                  {% endautoescape %}
                                  </td>
                                </tr>
                                {% else %}
                                <tr>
                                  <td style="font-family: 'Microsoft JhengHei'; font-size: 15px; line-height: 1.4; color: #8c8c8c; font-weight: 300; border-top-width: 1px; border-top-color: #ededed; border-top-style: solid; margin: 0; padding: 14px 0;">
                                    <strong>{{ key }}</strong>
                                  </td>
                                  <td width="75%" style="word-break: break-all; font-family: 'Microsoft JhengHei','Helvetica Neue',Helvetica,Arial,sans-serif; font-size: 14px; line-height: 1.4; color: #5C5C5C; font-weight: 300; border-top-width: 1px; border-top-color: #ededed; border-top-style: solid; margin: 0; padding: 14px 0 14px 5px;">
                                    <span class="muted" style="color: #5C5C5C; text-decoration: none;">
                                    {{ v }}
                                    </span>
                                  </td>
                                </tr>
                                {% endif %}
                              {% endfor %}
                              </tbody>
                            </table>
                          </td>
                        </tr>
                        <tr class="spacer">
                          <td style="font-family: 'Helvetica Neue',Helvetica,Arial,sans-serif; height: 18px; font-size: 18px; line-height: 18px;">
                            &nbsp;
                          </td>
                        </tr>
                        <tr class="section">
                          <td style="font-family: 'Helvetica Neue',Helvetica,Arial,sans-serif; border-radius: 3px; overflow: hidden; padding: 0 15px; border: 1px solid #ededed;">
                            <table border="0" cellpadding="0" cellspacing="0" class="info" style="width: 100%;">
                              <tbody>
                              </tbody>
                            </table>
                          </td>
                        </tr>
                        <tr class="spacer">
                          <td style="font-family: 'Helvetica Neue',Helvetica,Arial,sans-serif; height: 18px; font-size: 18px; line-height: 18px;">
                            &nbsp;
                          </td>
                        </tr>
                        <tr class="section">
                          <td style="font-family: 'Helvetica Neue',Helvetica,Arial,sans-serif; line-height: 1.4; overflow: hidden; padding: 0 15px;" align="center">
                            <table border="0" cellpadding="0" cellspacing="0" class="img" style="border-collapse: collapse; width: 100%;">
                              <tbody>
                                <tr style="width: 100%;">
                                  <td style="font-family: 'Helvetica Neue',Helvetica,Arial,sans-serif; font-size: 15px; line-height: 1.4; color: #8c8c8c; font-weight: 300; margin: 0; padding: 14px 0;" align="center">
                                    Please be informed that notification, Thank you!â¤ï¸
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </td>
                </tr>
              </tbody>
            </table>
          </td>
        </tr>
        <tr class="footer">
          <td style="font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 1.6; color: #5c5c5c; padding: 25px 0;">
            <img alt="ARES G2" height="30" width="100" src="cid:logo_gitlab" style="display: block; margin: 0 auto 1em;">
            <div>
              IPT/SIT <a class="mng-notif-link" href="{{ ares_url }}" style="color: #3777b0; text-decoration: none;">ARES G2 Â© 2022</a> Â· <a class="help-link" href="http://ipt-gitlab.ies.inventec:4000" style="color: #3777b0; text-decoration: none;">HelpğŸ“™</a>
            </div>
          </td>
        </tr>
        <tr>
          <td class="footer-message" style="font-family: &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 13px; line-height: 1.6; color: #5c5c5c; padding: 25px 0;">
          </td>
        </tr>
      </tbody>
    </table>
  </body>
</html>
